{"version":3,"file":"index.js","sources":["../src/main.js"],"sourcesContent":["import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst API_KEY = \"47599452-88585afd800a8eb35bdc3af8b\";\nconst BASE_URL = \"https://pixabay.com/api/\"\nconst form = document.querySelector(\".search-form\")\nconst input = document.querySelector(\".search-input\")\nconst galleryMenu = document.querySelector(\".gallery\")\nform.addEventListener(\"submit\", handleSearch)\n\n\nfunction handleSearch(event) {\n    event.preventDefault();\n    const trimValid = input.value.trim();\n    console.log(trimValid);\n    if (!trimValid) {\n        iziToast.error({\n            title: \"Error\",\n            message: \"Please enter a keyword to search.\",\n            position: \"topRight\",\n        })\n        return;\n    }\n    \n\n iziToast.info({\n        id: 'loading-toast',\n        title: 'Loading',\n        message: 'Fetching images, please wait...',\n        position: 'topRight',\n        timeout: false, \n        close: false, \n    });\n\n    fetchImages(trimValid)\n\n    function fetchImages(trimValid) {\n    const params = new URLSearchParams({\n        key: API_KEY,\n        q: trimValid,\n        image_type: \"photo\",\n        orientation: \"horizontal\",\n        safesearch: \"true\",\n    })\n\n        fetch(`${BASE_URL}?${params}`)\n            .then((res) => {\n                if (!res.ok) {\n                    throw new Error(res.statusText);\n                }\n                return res.json();\n            })\n            .then((data) => {\n                if (!data.hits.length) {\n                    iziToast.error({\n                        message: \"Sorry, there are no images matching your search query. Please try again!\",\n                        position: \"topRight\",\n                    })\n                }\n                galleryMenu.innerHTML = createMarkup(data.hits);\n            })\n            .catch(error => console.log(error))\n            .finally(() => {\n                event.target.reset();\n                iziToast.hide({ id: 'loading-toast' });\n            })\n}\n}\n\nfunction createMarkup(arr) {\n    return arr.map(({ webformatURL, largeImageURL, tags, likes, views, comments, downloads }) => {\n        return `\n        <li class=\"gallery-item\">\n        <a class=\"gallery-link\" href=\"${largeImageURL}\">\n        <img\n            class=\"gallery-image\"\n            src=\"${webformatURL}\"\n            alt=\"${tags}\"\n         />\n        </a>\n        <ul class=\"gallery-item-categories-menu\">\n            <li class=\"gallery-item-categories-menu-item\">\n                <p class=\"categories-item-title\">Likes</p>\n                <p class=\"categories-item-count\">${likes}</p>\n            </li>\n            <li class=\"gallery-item-categories-menu-item\">\n                <p class=\"categories-item-title\">Views</p>\n                <p class=\"categories-item-count\">${views}</p>\n            </li>\n            <li class=\"gallery-item-categories-menu-item\">\n                <p class=\"categories-item-title\">Comments</p>\n                <p class=\"categories-item-count\">${comments}</p>\n            </li>\n            <li class=\"gallery-item-categories-menu-item\">\n                <p class=\"categories-item-title\">Downloads</p>\n                <p class=\"categories-item-count\">${downloads}</p>\n            </li>\n        </ul>\n        </li>\n    `     \n    }).join(\"\");\n\n}\n\nconst lightbox = new SimpleLightbox('.gallery a', {\n    captionsData: 'alt',\n    captionDelay: 250,\n});"],"names":["API_KEY","BASE_URL","form","input","galleryMenu","handleSearch","event","trimValid","iziToast","fetchImages","params","res","data","createMarkup","error","arr","webformatURL","largeImageURL","tags","likes","views","comments","downloads","SimpleLightbox"],"mappings":"6vBAKA,MAAMA,EAAU,qCACVC,EAAW,2BACXC,EAAO,SAAS,cAAc,cAAc,EAC5CC,EAAQ,SAAS,cAAc,eAAe,EAC9CC,EAAc,SAAS,cAAc,UAAU,EACrDF,EAAK,iBAAiB,SAAUG,CAAY,EAG5C,SAASA,EAAaC,EAAO,CACzBA,EAAM,eAAc,EACpB,MAAMC,EAAYJ,EAAM,MAAM,KAAI,EAElC,GADA,QAAQ,IAAII,CAAS,EACjB,CAACA,EAAW,CACZC,EAAS,MAAM,CACX,MAAO,QACP,QAAS,oCACT,SAAU,UACtB,CAAS,EACD,MACH,CAGJA,EAAS,KAAK,CACP,GAAI,gBACJ,MAAO,UACP,QAAS,kCACT,SAAU,WACV,QAAS,GACT,MAAO,EACf,CAAK,EAEDC,EAAYF,CAAS,EAErB,SAASE,EAAYF,EAAW,CAChC,MAAMG,EAAS,IAAI,gBAAgB,CAC/B,IAAKV,EACL,EAAGO,EACH,WAAY,QACZ,YAAa,aACb,WAAY,MACpB,CAAK,EAEG,MAAM,GAAGN,CAAQ,IAAIS,CAAM,EAAE,EACxB,KAAMC,GAAQ,CACX,GAAI,CAACA,EAAI,GACL,MAAM,IAAI,MAAMA,EAAI,UAAU,EAElC,OAAOA,EAAI,MAC3B,CAAa,EACA,KAAMC,GAAS,CACPA,EAAK,KAAK,QACXJ,EAAS,MAAM,CACX,QAAS,2EACT,SAAU,UAClC,CAAqB,EAELJ,EAAY,UAAYS,EAAaD,EAAK,IAAI,CAC9D,CAAa,EACA,MAAME,GAAS,QAAQ,IAAIA,CAAK,CAAC,EACjC,QAAQ,IAAM,CACXR,EAAM,OAAO,QACbE,EAAS,KAAK,CAAE,GAAI,eAAiB,CAAA,CACrD,CAAa,CACb,CACA,CAEA,SAASK,EAAaE,EAAK,CACvB,OAAOA,EAAI,IAAI,CAAC,CAAE,aAAAC,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAS,IAC3E;AAAA;AAAA,wCAEyBL,CAAa;AAAA;AAAA;AAAA,mBAGlCD,CAAY;AAAA,mBACZE,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mDAM4BC,CAAK;AAAA;AAAA;AAAA;AAAA,mDAILC,CAAK;AAAA;AAAA;AAAA;AAAA,mDAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,mDAIRC,CAAS;AAAA;AAAA;AAAA;AAAA,KAKvD,EAAE,KAAK,EAAE,CAEd,CAEiB,IAAIC,EAAe,aAAc,CAC9C,aAAc,MACd,aAAc,GAClB,CAAC"}